{
  "hash": "0fe4bbaad08f1c5f9aad6e1ea83c1a46",
  "result": {
    "markdown": "---\ntitle: \"Select Empty Columns\"\nauthor: \"Ravi Chowdhury\"\ndate: \"12-12-2023\"\ncategories: [tidyverse, code, R]\n---\n\n\nThis post is about selecting empty columns using R and `tidyverse`, specifically `dplyr`. There might be a need where you want to select only empty columns from a table for quality check. For example you expect a column to have data and if the column is empty in the table you can perform checks.\n\nWith the `janitor` package, using the `remove_empty` function, you can remove empty columns but I am not sure if you can get a list of columns that are empty or have no data.\n\n\n\n\n\n## Read data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbillboard\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 317 x 79\n   artist track date.ent~1   wk1   wk2   wk3   wk4   wk5   wk6   wk7   wk8   wk9\n   <chr>  <chr> <date>     <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>\n 1 2 Pac  Baby~ 2000-02-26    87    82    72    77    87    94    99    NA    NA\n 2 2Ge+h~ The ~ 2000-09-02    91    87    92    NA    NA    NA    NA    NA    NA\n 3 3 Doo~ Kryp~ 2000-04-08    81    70    68    67    66    57    54    53    51\n 4 3 Doo~ Loser 2000-10-21    76    76    72    69    67    65    55    59    62\n 5 504 B~ Wobb~ 2000-04-15    57    34    25    17    17    31    36    49    53\n 6 98^0   Give~ 2000-08-19    51    39    34    26    26    19     2     2     3\n 7 A*Tee~ Danc~ 2000-07-08    97    97    96    95   100    NA    NA    NA    NA\n 8 Aaliy~ I Do~ 2000-01-29    84    62    51    41    38    35    35    38    38\n 9 Aaliy~ Try ~ 2000-03-18    59    53    38    28    21    18    16    14    12\n10 Adams~ Open~ 2000-08-26    76    76    74    69    68    67    61    58    57\n# ... with 307 more rows, 67 more variables: wk10 <dbl>, wk11 <dbl>,\n#   wk12 <dbl>, wk13 <dbl>, wk14 <dbl>, wk15 <dbl>, wk16 <dbl>, wk17 <dbl>,\n#   wk18 <dbl>, wk19 <dbl>, wk20 <dbl>, wk21 <dbl>, wk22 <dbl>, wk23 <dbl>,\n#   wk24 <dbl>, wk25 <dbl>, wk26 <dbl>, wk27 <dbl>, wk28 <dbl>, wk29 <dbl>,\n#   wk30 <dbl>, wk31 <dbl>, wk32 <dbl>, wk33 <dbl>, wk34 <dbl>, wk35 <dbl>,\n#   wk36 <dbl>, wk37 <dbl>, wk38 <dbl>, wk39 <dbl>, wk40 <dbl>, wk41 <dbl>,\n#   wk42 <dbl>, wk43 <dbl>, wk44 <dbl>, wk45 <dbl>, wk46 <dbl>, wk47 <dbl>, ...\n```\n:::\n:::\n\n\nWe will create an empty column in this table to reference it and find it.\n\n## Create empty column\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbillboard_modified <- billboard |> \n  mutate(\n    empty_col = NA_character_ #empty column\n  )\n```\n:::\n\n\n## Show / select just the blank or empty columns\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbillboard_modified |> \n  select(where( ~ all(is.na(.))))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 317 x 12\n   wk66  wk67  wk68  wk69  wk70  wk71  wk72  wk73  wk74  wk75  wk76  empty_col\n   <lgl> <lgl> <lgl> <lgl> <lgl> <lgl> <lgl> <lgl> <lgl> <lgl> <lgl> <chr>    \n 1 NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    <NA>     \n 2 NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    <NA>     \n 3 NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    <NA>     \n 4 NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    <NA>     \n 5 NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    <NA>     \n 6 NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    <NA>     \n 7 NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    <NA>     \n 8 NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    <NA>     \n 9 NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    <NA>     \n10 NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    <NA>     \n# ... with 307 more rows\n```\n:::\n:::\n\n\nWe will use `colnames()` function to show the list of columns since this table has multiple empty columns.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbillboard_modified |> \n  select(where( ~ all(is.na(.)))) |> \n  colnames()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"wk66\"      \"wk67\"      \"wk68\"      \"wk69\"      \"wk70\"      \"wk71\"     \n [7] \"wk72\"      \"wk73\"      \"wk74\"      \"wk75\"      \"wk76\"      \"empty_col\"\n```\n:::\n:::\n\n\nAs you can see it is very easy to find empty columns in a table.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}